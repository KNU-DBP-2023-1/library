<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>도서 목록 조회 화면</title>
</head>
<body>
<div class="content" style="text-align:center">
    <h2 class="tit">KNU 도서관리시스템</h2>
    <fieldset>
        <div style="text-align: right; font-weight: bold; font-size: 1.2em" th:text="|회원 이름: ${member.name}|">회원 이름: </div>
        <div style="text-align: right">
            <form th:action="@{/logout}" method="post">
            <button type="submit"
                    style="width:70px;height:30px;font-weight:bold">
                로그아웃
            </button>
            </form>
        </div>
        <h1 class="tit">도서 전체 목록</h1>
        <table border="1" width="50%" height="60" boardcolor="black" align="center">
            <tr>
                <th scope="col">ID</th>
                <th scope="col">제목</th>
                <th scope="col">저자</th>
                <th scope="col">출판사</th>
                <th scope="col">대출여부</th>
            </tr>
            <tr th:each="books: ${books}">
                <td th:text="${books.id}"></td>
                <td th:text="${books.title}"></td>
                <td th:text="${books.author}"></td>
                <td th:text="${books.publisher}"></td>
                <td th:if="${books.onRent} == '대출가능'" >
                    대출가능
                    <form th:action="@{/bookList/{bookId}/rent(bookId = ${books.id})}" method="post">
<!--                대출 버튼을 줄 바꾸지 않고 대출 여부 바로 옆에 나오게 하고 싶어서 다시 작업 예정-->
                    <button type="submit"
                            style="width:70px;height:30px;font-weight:bold">
                        대출
                    </button>
                    </form>
                </td>
                <td th:if="${books.onRent} == '대출불가'">대출불가</td>
            </tr>
        </table>
    </fieldset>
</div>
</body>
</html>